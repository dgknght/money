%h2#page_title Budget Report

.filter
  =form_tag({ url: budget_entity_path(@entity) }, method: :get) do
    =select_tag :budget_id, options_from_collection_for_select(@entity.budgets, :id, :name, @filter.budget_id)
    =text_field_tag :start_date, @filter.start_date, class: 'date_field', placeholder: 'Start date'
    =text_field_tag :end_date, @filter.end_date, class: 'date_field', placeholder: 'End date'
    =submit_tag 'Show', class: 'show_button', title: 'Click here to view the report with these filter setttings.'

-if @report
  .report
    %table{cellspacing: 0, cellpadding: 0}
      %tr
        %th Account
        %th Budget
        %th Actual
        %th Difference
        %th % Diff.
        %th Actual/Mo.
      -@report.content.each do |row|
        %tr
          %td= row.account
          %td= row.budget_amount
          %td= row.actual_amount
          %td= row.difference
          %td= row.percent_difference
          %td= row.actual_per_month